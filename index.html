
<!doctype html>

<title>Merge view</title>
<meta charset="utf-8"/>
<link rel=stylesheet href="https://codemirror.net/3/doc/docs.css">

<link rel=stylesheet href="https://codemirror.net/3/lib/codemirror.css">
<link rel=stylesheet href="https://codemirror.net/3/addon/merge/merge.css">
<script src="https://codemirror.net/3/lib/codemirror.js"></script>
<script src="https://codemirror.net/3/mode/xml/xml.js"></script>
<script src="https://codemirror.net/3/addon/merge/dep/diff_match_patch.js"></script>
<script src="https://codemirror.net/3/addon/merge/merge.js"></script>
<style>
    .CodeMirror { line-height: 1.2; }
    span.clicky {
      cursor: pointer;
      background: #d70;
      color: white;
      padding: 0 3px;
      border-radius: 3px;
    }
  </style>
<h2>merge view</h2>


<div id=view></div>


<script>
var value, orig1, orig2, dv, hilight= true;
function initUI(panes) {
  if (value == null) return;
  var target = document.getElementById("view");
  target.innerHTML = "";
  dv = CodeMirror.MergeView(target, {
    value: value,
    origLeft: panes == 3 ? orig1 : null,
    orig: orig2,
    lineNumbers: true,
    mode: "text/html",
    highlightDifferences: hilight
  });
}

function toggleDifferences() {
  dv.setShowDifferences(hilight = !hilight);
}

window.onload = function() {
  value = "Hello world";
  orig1 = "Test1";
  orig2 = "Hello peter";
  initUI(2);
};
</script>

